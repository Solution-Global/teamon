<div class="modal-dialog">
  <div class="modal-content animated bounceInRight">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      <i class="fa fa-github-alt modal-icon"></i>
      <h4 class="modal-title">Password Modification</h4>
    </div>
    <form role="form" id="passwordForm" onsubmit="return false;">
      <div class="modal-body">
        <div class="row">
          <div class="form-group">
            <label>Current Password</label><input name="currentPassword" type="password" placeholder="Enter current password" class="form-control">
          </div>
          <div class="form-group">
            <label>New Password</label><input name="newPassword" type="password" placeholder="Enter new password" class="form-control">
          </div>
          <div class="form-group">
            <label>Confirm New Password</label><input placeholder="Enter new password" name="confirmNewPassword" type="password" class="form-control">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-white" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</div>
<script>
$(document).ready(function() {
  var $passwordForm = $("#passwordForm");

  $("#passwordForm").validate({
    rules: {
      currentPassword: {
        required: true
      },
      newPassword: {
        required: true
      },
      confirmNewPassword: {
        required: true
      }
    }
  });

  $("#passwordForm").submit(function(event) {
    event.preventDefault();
    if (!$(this).valid())
      return;

    var params = $(this).serializeObject();
    params.emplId = loginInfo.emplId;

    var newPassword = $passwordForm.find("[name=newPassword]").val();
    var confirmNewPassword = $passwordForm.find("[name=confirmNewPassword]").val();

    if (newPassword != confirmNewPassword) {
      toastr.info("New password is not matched.");
      return;
    }

    restResource.empl.changePassword(params,
      function(data, response) {
        // Success
        $("#passwordForm").closest(".modal-dialog").closest(".modal").modal("hide");
        toastr.info("Password has been modified successfully.");
    });
  });
});
</script>
