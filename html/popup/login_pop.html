<script type="text/javascript">
	//<![CDATA[
	$(document).ready(function() {
		var loginIdObj = $("#loginForm").find("[name=loginId]").focus();
	});

	function loginSubmit() {
		var loginIdObj = $("#loginForm").find("[name=loginId]");
		var passwordObj = $("#loginForm").find("[name=password]");
		var companyObj = $("#loginForm").find("[name=company]");
		var rememberMe = $("#loginForm").find("[name=rememberMe]");
		var params = {
			"company": companyObj.val(),
			"loginId": loginIdObj.val(),
			"password": passwordObj.val(),
		}

		restResourse.login.login(params,
			function(data) {
				// set the personal pref info first to use it around the app.
				preference.set("login", "rememberMe", rememberMe.is(":checked"), false);
				preference.set("login", "company", params.company, false);
				preference.set("login", "loginId", params.loginId, false);
				preference.set("login", "password", params.password, false);
				preference.set("login", "emplId", data.emplId, false);
				preference.set("login", "coId", data.coId, true); // Save to the pref file once at the end of the config job.

				initScreenSection();

				$("#dialog").dialog("close");
			});
	}
	//]]>
</script>
<div>
	<form id="loginForm" onsubmit="return false;">
		<div class="left" style="width:100px;">COMPANY</div>
		<div class="left">
			<input name="company" type="text" class="inputBox" style="width:175px;" />
		</div>
		<div class="clear"></div>
		<div class="left" style="width:100px;">ID</div>
		<div class="left">
			<input name="loginId" type="text" class="inputBox" style="width:175px;" />
		</div>
		<div class="clear"></div>
		<div class="left" style="width:100px;">PASSWORD</div>
		<div class="left">
			<input name="password" type="password" class="inputBox" style="width:175px;" />
		</div>
		<div class="clear"></div>
		<div>
			<input name="rememberMe" type="checkbox"> Remember me
		</div>
	</form>
</div>
